<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oracle Insights - FullStock AI vNext Ultimate</title>
    
    <!-- PWA Meta Tags -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#121212">
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/app.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    
    <!-- Feather Icons -->
    <script src="https://unpkg.com/feather-icons"></script>
    
    <!-- Socket.IO -->
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
</head>
<body>
    {% include 'partials/navbar.html' %}

    <!-- Oracle Dashboard -->
    <div class="container-fluid py-4">
        <!-- Oracle Header -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card fade-in">
                    <div class="card-header">
                        <h5 class="card-title mb-0">
                            <i data-feather="eye" class="me-2"></i>
                            Oracle Mystical Market Insights
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row align-items-end">
                            <div class="col-md-6 mb-3">
                                <label for="oracleInput" class="form-label">Symbol for Oracle Guidance</label>
                                <div class="input-group">
                                    <input type="text" 
                                           id="oracleInput" 
                                           class="form-control" 
                                           placeholder="Enter symbol (e.g., AAPL, BTC-USD)" 
                                           value="SPY"
                                           autocomplete="off">
                                    <button class="btn btn-primary" type="button" id="consultOracleBtn">
                                        <i data-feather="zap" class="me-1"></i>
                                        <span id="consultText">Consult Oracle</span>
                                    </button>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Oracle Mode</label>
                                <div class="btn-group w-100" role="group">
                                    <button type="button" class="btn btn-outline-light btn-sm oracle-mode active" data-mode="vision">Vision</button>
                                    <button type="button" class="btn btn-outline-light btn-sm oracle-mode" data-mode="dreams">Dreams</button>
                                    <button type="button" class="btn btn-outline-light btn-sm oracle-mode" data-mode="prophecy">Prophecy</button>
                                    <button type="button" class="btn btn-outline-light btn-sm oracle-mode" data-mode="wisdom">Wisdom</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Oracle Panel -->
        <div class="row mb-4" id="oracleMainPanel" style="display: none;">
            <div class="col-12">
                <div class="oracle-panel">
                    <div class="oracle-content">
                        <div class="text-center">
                            <div class="oracle-symbol" id="oracleSymbol">ðŸ”®</div>
                            <h4 class="mb-3" id="oracleTitle">The Oracle Speaks...</h4>
                            <p class="lead" id="oracleMessage">Consulting the mystical forces of the market...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Oracle Insights Grid -->
        <div class="row mb-4" id="oracleInsightsSection" style="display: none;">
            <!-- Market Consciousness -->
            <div class="col-lg-6 col-md-12 mb-3">
                <div class="card">
                    <div class="card-header">
                        <h6 class="card-title mb-0">
                            <i data-feather="brain" class="me-2"></i>
                            Market Consciousness
                        </h6>
                    </div>
                    <div class="card-body">
                        <div class="text-center mb-3">
                            <div class="display-6 text-gradient" id="consciousnessLevel">--%</div>
                            <p class="text-muted mb-0">Collective Awareness</p>
                        </div>
                        <div id="consciousnessInsight" class="text-center">
                            <p class="text-muted">Analyzing market consciousness...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Mystical Indicators -->
            <div class="col-lg-6 col-md-12 mb-3">
                <div class="card">
                    <div class="card-header">
                        <h6 class="card-title mb-0">
                            <i data-feather="compass" class="me-2"></i>
                            Mystical Indicators
                        </h6>
                    </div>
                    <div class="card-body">
                        <div class="d-flex justify-content-between mb-2">
                            <span>Lunar Phase Impact</span>
                            <span id="lunarPhase" class="text-muted">--</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <span>Market Harmony</span>
                            <span id="marketHarmony" class="text-muted">--</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <span>Volatility Aura</span>
                            <span id="volatilityAura" class="text-muted">--</span>
                        </div>
                        <div class="d-flex justify-content-between">
                            <span>Profit Resonance</span>
                            <span id="profitResonance" class="text-muted">--</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Oracle Dreams Visualization -->
        <div class="row mb-4" id="oracleDreamsSection" style="display: none;">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h6 class="card-title mb-0">
                            <i data-feather="moon" class="me-2"></i>
                            Oracle Dreams & Visions
                        </h6>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <div class="card bg-secondary">
                                    <div class="card-body text-center">
                                        <div class="h2 mb-2" id="dreamSymbol1">ðŸŒŸ</div>
                                        <h6 id="dreamTitle1">Primary Vision</h6>
                                        <p class="text-muted small" id="dreamText1">Awaiting oracle guidance...</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="card bg-secondary">
                                    <div class="card-body text-center">
                                        <div class="h2 mb-2" id="dreamSymbol2">ðŸ”¥</div>
                                        <h6 id="dreamTitle2">Secondary Vision</h6>
                                        <p class="text-muted small" id="dreamText2">Awaiting oracle guidance...</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="card bg-secondary">
                                    <div class="card-body text-center">
                                        <div class="h2 mb-2" id="dreamSymbol3">ðŸ’Ž</div>
                                        <h6 id="dreamTitle3">Deep Vision</h6>
                                        <p class="text-muted small" id="dreamText3">Awaiting oracle guidance...</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Curiosity Engine Alerts -->
        <div class="row mb-4">
            <div class="col-md-6 mb-3">
                <div class="card">
                    <div class="card-header">
                        <h6 class="card-title mb-0">
                            <i data-feather="alert-triangle" class="me-2"></i>
                            Curiosity Engine Alerts
                        </h6>
                    </div>
                    <div class="card-body" style="max-height: 300px; overflow-y: auto;">
                        <div id="curiosityAlerts">
                            <p class="text-muted text-center">No anomalies detected</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6 mb-3">
                <div class="card">
                    <div class="card-header">
                        <h6 class="card-title mb-0">
                            <i data-feather="zap" class="me-2"></i>
                            Quantum Forecasts
                        </h6>
                    </div>
                    <div class="card-body" style="max-height: 300px; overflow-y: auto;">
                        <div id="quantumForecasts">
                            <p class="text-muted text-center">Analyzing quantum patterns...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Oracle History -->
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h6 class="card-title mb-0">
                            <i data-feather="scroll" class="me-2"></i>
                            Oracle Consultation History
                        </h6>
                    </div>
                    <div class="card-body" style="max-height: 250px; overflow-y: auto;">
                        <div id="oracleHistory">
                            <p class="text-muted text-center">Begin your oracle journey...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="toastContainer" class="toast-container"></div>

    <!-- Loading Overlay -->
    <div id="oracleLoadingOverlay" class="position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center" style="background: rgba(0,0,0,0.8); z-index: 9999; display: none;">
        <div class="text-center">
            <div class="oracle-symbol" style="font-size: 4rem; animation: pulse 2s infinite;">ðŸ”®</div>
            <h5>Consulting the Oracle...</h5>
            <p class="text-muted" id="oracleLoadingText">Channeling mystical market forces</p>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Application Scripts -->
    <script src="{{ url_for('static', filename='js/sockets.js') }}"></script>
    <script src="{{ url_for('static', filename='js/notifications.js') }}"></script>
    <script src="{{ url_for('static', filename='js/oracle.js') }}"></script>
    
    <script>
        // Initialize Feather Icons
        feather.replace();
        
        // Initialize Oracle Dashboard
        document.addEventListener('DOMContentLoaded', function() {
            initializeOracleDashboard();
            
            // Auto-consult oracle for SPY on load
            setTimeout(() => {
                consultOracle('SPY', 'vision');
            }, 1500);
        });
    </script>
</body>
</html>
